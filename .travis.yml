language: objective-c
python:
  - "2.7"
osx_image: xcode7
xcode_project: Owncloud iOs Client.xcodeproj
xcode_scheme: Owncloud iOs Client
xcode_sdk: iphonesimulator
    
install:
  - easy_install pip
  - pip install nose
  - pip install Appium-Python-Client

  
addons:
  sauce_connect: true

script:	
	- xcodebuild -sdk iphonesimulator6.0 TARGETED_DEVICE_FAMILY=1
	- zip -r my_app.zip Owncloud\ iOS\ Client.app/
	- curl -u $SAUCE_USERNAME:$SAUCE_ACCESS_KEY -X POST "http://saucelabs.com/rest/v1/storage/$SAUCE_USERNAME/my_app.zip?overwrite=true" -H "Content-Type: application/octet-stream" --data-binary @my_app.zip
	- node node_modules/appium &
	- nosetests -c config.ini
