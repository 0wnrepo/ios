language: objective-c
python:
  - "2.7"
osx_image: xcode7
xcode_project: Owncloud iOs Client.xcodeproj
xcode_scheme: Owncloud iOs Client
xcode_sdk: iphonesimulator

install:
  - sudo easy_install pip
  - sudo pip install Appium-Python-Client

addons:
  sauce_connect: true

script:	
  - xcodebuild -scheme 'Owncloud iOs Client' -sdk iphonesimulator
  - zip -r my_app.zip -i build/release-iphonesimulator/Owncloud\ iOs\ Client.app
  - curl -u $SAUCE_USERNAME:$SAUCE_ACCESS_KEY -X POST "http://saucelabs.com/rest/v1/storage/$SAUCE_USERNAME/my_app.zip?overwrite=true" -H "Content-Type: application/octet-stream" --data-binary @my_app.zip
  - node node_modules/appium 
  - python automation_Test/loginTest.py

